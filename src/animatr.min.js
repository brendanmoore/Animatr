(function(j){var k=document,a="name iteration-count timing-function direction duration delay fill-mode".split(" "),l=(/webkit/i).test(navigator.appVersion)?"webkit":(/firefox/i).test(navigator.userAgent)?"Moz":(/trident/i).test(navigator.userAgent)?"ms":"opera" in j?"O":"",i=(!!l)?"-"+l.toLowerCase()+"-":"",h=i+"animation-",c=/-([a-z])/ig,g=function(p,o){return o.toUpperCase();
},f=function(o){return o.replace(c,g);},e=(l!=="Moz")?l+"AnimationIteration":"animationiteration",b=(l!=="Moz")?l+"AnimationStart":"animationstart",n=(l!=="Moz")?l+"AnimationEnd":"animationend",d=function(q,r){var p=this,u;
if(typeof q==="string"){p.elementId=q;p.el=k.getElementById(q);}else{if(typeof q==="object"){p.elementId="a_"+~~(Math.random()*1000)+(new Date()).getTime();
p.el=q;p.el.id=p.elementId;}else{throw new Error("No DOM Object or Element ID given");}}p.el.__Animatr=p;p.options={duration:"1s",delay:0,iterationCount:"infinite",timingFunction:"linear",direction:"normal",fillMode:"forwards",name:"Animatr_"+p.elementId+(new Date()).getTime(),pauseOnHover:false,startCss:null,css:null,startDelay:0,preventImmediateStart:false,iterationCallback:null,startCallback:null,endCallback:null};
for(u in r){p.options[u]=r[u];}var t=!!p.options.startCss&&p.stringifyCSS(p.options.startCss),o=!!p.options.css&&p.stringifyCSS(p.options.css);p.steps=[];
if(!!t){p.steps.push(t);}if(!!o){if(!t){p.steps.push("");}p.steps.push(o);}if(!p.options.preventImmediateStart){setTimeout(function(){p.start();},p.options.startDelay);
}var s=function(){return p.el.addEventListener.apply(p.el,Array.prototype.slice.call(arguments));};s(e,p.options.iterationCallback);s(b,p.options.startCallback);
s(n,p.options.endCallback);},m=d.prototype;m.start=function(){this.createAnimation();},m.stop=function(){var o=k.getElementById(this.options.name);o.parentNode.removeChild(o);
};m.restart=function(){this.options.name="Animatr_"+this.elementId+(new Date()).getTime();this.createAnimation();};m.destroy=function(){this.stop();this.el.removeEventListener(e,this.options.iterationFunction);
this.el.removeEventListener(b,this.options.startFunction);this.el.removeEventListener(n,this.options.endFunction);};m.step=function(o){this.steps.push(this.stringifyCSS(o));
return this;};m.stringifyCSS=function(q){if(q===null){return"";}var o="",p;for(p in q){o+=p+":"+q[p]+";";}return o;};m.createAnimation=function(){var p=this.options,o=this.steps,q=[this.generateProps(p),this.generateHover(p),this.generateKeyframes(o,p)];
this.addAnimationStyle(q.join("\n"));};m.generateProps=function(p){var q=["#"+this.elementId+"{"];for(var o=0,r;o<a.length;o++){r=a[o];q.push(h+r+":"+p[f(r)]+";");
}q.push("}");return q.join("\n");};m.generateHover=function(o){return o.pauseOnHover?["#",this.elementId,":hover {",i,"animation-play-state: paused;}"].join(""):"";
};m.generateKeyframes=function(p,r){var s=["@"+i+"keyframes "+r.name+"{"],q,o=p.length;if(o>1){for(q=0;q<o;q++){s.push((q/(o-1))*100+"% {"+p[q]+"}");}}else{s.push("0%{}100%{"+p[0]+"}");
}s.push("}");return s.join("\n");};m.addAnimationStyle=function(p){if(k.getElementById(this.options.animationName)){this.stop();}var o=k.createElement("style"),q=k.createTextNode(p);
o.type="text/css";o.id=this.options.name;o.appendChild(q);k.getElementsByTagName("head")[0].appendChild(o);this.cssAnimation=o;};j.Animatr=d;})(this);
