(function(i){var j=document,a="name iteration-count timing-function direction duration delay fill-mode".split(" "),k=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in i?"O":"",h=!!k?"-"+k.toLowerCase()+"-":"",g=h+"animation-",c=/-([a-z])/ig,f=function(n,m){return m.toUpperCase()},e=function(l){return l.replace(c,f)},d=k!=="Moz"?k+"AnimationIteration":"animationiteration",b=k!=="Moz"?k+"AnimationStart":"animationstart";
endListener=k!=="Moz"?k+"AnimationEnd":"animationend";Animatr=function(n,o){var m=this,r;m.elementId=n;m.el=j.getElementById(n);m.el.__Animatr=m;m.options={duration:"1s",delay:0,iterationCount:"infinite",timingFunction:"linear",direction:"normal",fillMode:"forwards",name:"Animatr_"+n+(new Date).getTime(),pauseOnHover:false,startCss:null,css:null,startDelay:0,preventImmediateStart:false,iterationFunction:function(s){},startFunction:function(s){},endFunction:function(s){}};for(r in o)m.options[r]=o[r];
var q=!!m.options.startCss&&m.stringifyCSS(m.options.startCss),l=!!m.options.css&&m.stringifyCSS(m.options.css);m.steps=[];if(!!q)m.steps.push(q);if(!!l){if(!q)m.steps.push("");m.steps.push(l)}if(!m.options.preventImmediateStart)setTimeout(function(){m.start()},m.options.startDelay);var p=function(){return m.el.addEventListener.apply(m.el,Array.prototype.slice.call(arguments))};p(d,m.options.iterationFunction);p(b,m.options.startFunction);p(endListener,m.options.endFunction)},AP=Animatr.prototype;
AP.start=function(){this.createAnimation()},AP.stop=function(){var l=j.getElementById(this.options.name);l.parentNode.removeChild(l)};AP.restart=function(){this.options.animationName="Animatr_"+this.elementId+(new Date).getTime();this.createAnimation()};AP.destroy=function(){this.stop();this.el.removeEventListener(d,this.options.iterationFunction);this.el.removeEventListener(b,this.options.startFunction);this.el.removeEventListener(endListener,this.options.endFunction)};AP.step=function(l){this.steps.push(this.stringifyCSS(l));
return this};AP.stringifyCSS=function(n){if(n===null)return"";var l="",m;for(m in n)l+=m+":"+n[m]+";";return l};AP.createAnimation=function(){var m=this.options,l=this.steps,n=[this.generateProps(m),this.generateHover(m),this.generateKeyframes(l,m)];this.addAnimationStyle(n.join("\n"))};AP.generateProps=function(m){var n=["#"+this.elementId+"{"];for(var l=0,o;l<a.length;l++){o=a[l];n.push(g+o+":"+m[e(o)]+";")}n.push("}");return n.join("\n")};AP.generateHover=function(l){return l.pauseOnHover?["#",
this.elementId,":hover {",h,"animation-play-state: paused;}"].join(""):""};AP.generateKeyframes=function(n,p){var q=["@"+h+"keyframes "+p.name+"{"],o,m=n.length;if(m>1)for(o=0;o<m;o++)q.push(o/(m-1)*100+"% {"+n[o]+"}");else q.push("0%{}100%{"+n[0]+"}");q.push("}");return q.join("\n")};AP.addAnimationStyle=function(m){if(j.getElementById(this.options.animationName))this.stop();var l=j.createElement("style"),n=j.createTextNode(m);l.type="text/css";l.id=this.options.name;l.appendChild(n);j.getElementsByTagName("head")[0].appendChild(l);
this.cssAnimation=l};i.Animatr=Animatr})(this);
